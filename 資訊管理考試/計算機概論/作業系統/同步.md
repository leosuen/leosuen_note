# 競賽情況
多個行程存取共用資源，因執行順序不同產生無法預期的結果

# 臨界區域
無法共享的程式碼，如寫入全域變數，需要設計一套機制，協調 (Coordinate) 各個行程動作，以確保系統能夠正常運作，稱<mark>臨界區域問題解決方案</mark>。
需要符合 <mark>3個條件</mark>

1. 互斥：同時只能一(有限)個行程進入臨界區域
2. 進展：須從等待進入臨界區域行程中擇一執行，不延遲
3. 有限等待：等待中行程不能無限制等待

# 臨界區域問題解決方案
1. 以<mark>鎖</mark>的概念解決臨界問題
	取得鎖才能進入臨界區域 (互斥)，離開時立即釋放 (進展)，鎖的設計可能相當複雜，有三種方式
	1. 軟體式：程式自行控制
	2. 硬體式：硬體指令
	3. OS或程式語言提供輔助機制
2. OS 輔助機制
	號誌 (semaphore) 機制：
	又稱為旗號，是一個同步物件，用於保持在0至指定最大值之間的一個計數值。
	當執行緒完成一次對該semaphore物件的等待（wait）時，該計數值減一；
	當執行緒完成一次對semaphore物件的釋放（release）時，計數值加一。
	當計數值為0，則執行緒等待該semaphore物件不再能成功直至該semaphore物件變成signaled狀態。
	semaphore物件的計數值大於0，為signaled狀態；
	計數值等於0，為nonsignaled狀態
	問題：
	1. 忙碌等待 (CPU空轉)
	2. [[死結]]
	3. 優先權倒置


[回到索引]((%E4%BD%9C%E6%A5%AD%E7%B3%BB%E7%B5%B1%E7%B4%A2%E5%BC%95))