# 程式執行與記憶體管理

1. 單一程式
	同時 <mark>僅能一個</mark> 程式存在記憶體內 <mark>單獨執行</mark>，程式輸出輸入時CPU閒置，MMU功能簡單，但記憶體與CPU使用率低
2. 多重程式
	同時 <mark>允許多個</mark> 程式存在記憶體內 <mark>並行執行</mark>，CPU在多個程式間快速切換，MMU功能複雜，可用技術如下：
	1. 非置換 (Non-swapping)：程式執行期間須完整留在記憶體中，不能置換，有分割 (<mark>連續配置</mark>)，簡單分頁分段 (<mark>不連續配置</mark>)，夥伴系統
	2. 可置換 (Swapping)：程式執行期間可在記憶體與硬碟間相互置換，載入部分程式即可執行，又稱 <mark>虛擬記憶體</mark>。如分頁，分段


# 非置換 (Non-swapping)記憶體技術
1. 連續記憶體配置：
	1. 固定分割：將記憶體分成多個固定or變動大小的靜態區塊 (<mark>分割後，區塊大小不變</mark>)，一個行程使用一個區塊
	2. 動態分割：OS 依行程需求，配置夠大的可用區塊，記憶體空間使用效率高
2. 不連續記憶體配置：
	1. 簡單分頁 (Paging)：行程切成固定大小稱 <mark>分頁</mark>，主記憶體切成同大小稱 <mark>頁框</mark>，由OS 負責將行程分頁載入到可用頁框；無外部破碎問題，但有內部破碎問題
		1. 頁框表：OS 管理實體記憶體所需的資料結構，可記錄每個頁框配置情形，如總頁框數，以配置頁框，可用頁框。
		2. 分頁表：<mark>行程獨有</mark>，紀錄該行程所有分頁與頁框之間的對應關係，2 種實作方式
			1. 分頁表存 <mark>暫存器內</mark>：位址轉換速度快，分頁表大小受限+內文切換速度慢
			2. 分頁表存 <mark>主記憶體</mark>：內文切換速度快+大型分頁表使用，位址轉換速度慢

		3. 存取記憶體時，邏輯位址需轉換成實體位址，才能正確存取資料
		4. 反轉分頁表：紀錄實體頁框與行程分頁的對應關係，<mark>只有一個</mark>，可改善分頁表浪費記憶體空間的問題
	2. 簡單分段 (Segmentation)：